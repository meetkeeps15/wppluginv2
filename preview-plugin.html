<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WP AGUI Chat Preview</title>
  <link rel="stylesheet" href="assets/agui-wp.css" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
    .container { max-width: 1200px; margin: 24px auto; }
    .toolbar { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
    #connectBtn { padding:8px 12px; }
  </style>
</head>
<body>
  <div class="container">
    <div id="connectionStatus" class="status">Disconnected</div>
    <div class="toolbar">
      <button id="connectBtn">Connect</button>
    </div>

    <!-- Pre-chat form (hidden in this preview) -->
    <form id="preChatForm" style="display:none"></form>

    <!-- BrandMeNow chat app scaffold -->
    <div class="bm-chat-app">
      <aside class="bm-sidebar">
        <div class="bm-sidebar-header">
          <button id="sidebar-toggle" aria-expanded="true" title="Toggle sidebar">‚ü∑</button>
          <button id="bm-new-chat-btn" class="btn">New Chat</button>
        </div>
        <div id="bm-conversation-list" class="bm-conversation-list"></div>
      </aside>
      <main class="bm-chat-main">
        <div id="bm-chat-messages" class="bm-chat-messages" style="min-height:300px;"></div>
        <div class="bm-composer">
          <input id="bm-user-input" type="text" placeholder="Type a message‚Ä¶" />
          <button id="bm-send-btn" class="btn btn-primary">Send</button>
          <input id="bm-file-input" type="file" style="display:none" />
          <button id="bm-attach-button" class="btn">Attach</button>
          <button id="bm-voice-button" class="btn">Voice</button>
        </div>
        <div id="bm-error" class="bm-error" style="display:none"></div>
      </main>
    </div>
  </div>

  <div id="messages" style="display:none"></div>
  <div id="typingIndicator" class="hidden" style="display:none"></div>
  <div id="chatCard" style="display:none"></div>
  <div id="suggestions" style="display:none"></div>
  <input id="fileInput" type="file" style="display:none" />

  <script>
    window.AGUiConfig = {
      // Preview defaults; the local preview server may proxy to your WP when WP_ORIGIN is set
      sseUrl: '',
      wsUrl: '',
      sendUrl: '',
      // Live settings sync so the preview can pick up WP/Agent endpoints from the server
      wpSettingsEndpoint: '/wp-json/agui-chat/v1/settings',
      wpFormEndpoint: '/wp-json/agui-chat/v1/ghl/contact',
      wpSendEndpoint: '/wp-json/agui-chat/v1/agency/respond',
      wpImageEndpoint: '/wp-json/agui-chat/v1/image/generate',
      wpAgencyRespond: '/wp-json/agui-chat/v1/agency/respond',
      wpAgencyStream: '/wp-json/agui-chat/v1/agency/stream',
      // Leave agent/fastapi empty in preview; the server stub will inject these via /settings when configured
      agentImageEndpoint: '',
      fastApiBase: '',
      // Feature flag: disable non-WP fallback endpoints during preview
      disableNonWpFallbacks: true
    };
  </script>
  <!-- BM Multi-Step Form Preview -->
  <div id="bm-ms-form" class="bm-ms-form bmms-theme-godaddy">
    <div class="bm-ms-form-content">
      <div class="bmms-progress"></div>

    <!-- Step 1: Basic details -->
    <form id="bmms-step1" class="bmms-step" novalidate>
      <div class="bmms-header">
        <div class="bmms-logo-spinner"></div>
        <h2>Hi, I'm Airo‚Äîyour AI-powered assistant.</h2>
        <p class="muted">Let‚Äôs create a logo together.</p>
      </div>
      <div class="bmms-grid">
        <label class="bmms-field bmms-optional">
          <span>Your name</span>
          <input type="text" name="name" placeholder="Jane Doe" />
        </label>
        <label class="bmms-field bmms-optional">
          <span>Email</span>
          <input type="email" name="email" placeholder="you@company.com" />
        </label>
      </div>
      <label class="bmms-field">
        <span>Describe your business</span>
        <input type="text" name="description" placeholder="brandmenow" />
      </label>
      <p class="bmms-tip">Tip: Including your business name gives me more to work with.</p>
      <div class="bmms-actions">
        <button type="submit" class="btn btn-primary">Get Started</button>
      </div>
    </form>

    <!-- Step 2: Icon options -->
    <section id="bmms-step2" class="bmms-step">
      <div class="bmms-splash">
        <div class="bmms-logo-spinner"></div>
        <h3>Hang tight, I‚Äôm getting your logo started‚Ä¶</h3>
      </div>
      <div class="bmms-options" style="display:none">
        <h3>Pick a style to start</h3>
        <div class="bmms-icon-grid">
          <label class="bmms-icon-card">
            <input type="radio" name="bmms_icon" value="gauge" checked />
            <span class="bmms-icon">‚óé</span>
            <span>Classic mark</span>
          </label>
          <label class="bmms-icon-card">
            <input type="radio" name="bmms_icon" value="lightning" />
            <span class="bmms-icon">‚ö°</span>
            <span>Bold mark</span>
          </label>
          <label class="bmms-icon-card">
            <input type="radio" name="bmms_icon" value="rocket" />
            <span class="bmms-icon">üöÄ</span>
            <span>Modern mark</span>
          </label>
        </div>
        <div class="bmms-ideas-grid" style="margin-top:12px;">
          <h4 style="margin:8px 0;">Choose a logo concept to base your variations on</h4>
          <div class="bmms-ideas">
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_01.jpg" checked /><img src="assets/logo-ideas/logoideas_01.jpg" alt="Concept 01" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_02.jpg" /><img src="assets/logo-ideas/logoideas_02.jpg" alt="Concept 02" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_04.jpg" /><img src="assets/logo-ideas/logoideas_04.jpg" alt="Concept 04" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_05.jpg" /><img src="assets/logo-ideas/logoideas_05.jpg" alt="Concept 05" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_06.png" /><img src="assets/logo-ideas/logoideas_06.png" alt="Concept 06" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_07.jpg" /><img src="assets/logo-ideas/logoideas_07.jpg" alt="Concept 07" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_09.jpg" /><img src="assets/logo-ideas/logoideas_09.jpg" alt="Concept 09" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_10.png" /><img src="assets/logo-ideas/logoideas_10.png" alt="Concept 10" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_11.png" /><img src="assets/logo-ideas/logoideas_11.png" alt="Concept 11" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_12.png" /><img src="assets/logo-ideas/logoideas_12.png" alt="Concept 12" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_13.png" /><img src="assets/logo-ideas/logoideas_13.png" alt="Concept 13" /></label>
            <label class="bmms-idea-card"><input type="radio" name="bmms_logoidea" value="assets/logo-ideas/logoideas_14.png" /><img src="assets/logo-ideas/logoideas_14.png" alt="Concept 14" /></label>
          </div>
        </div>
        <div class="bmms-actions">
          <button type="button" class="bmms-btn bmms-back">Back</button>
          <button type="button" class="bmms-btn bmms-btn-primary bmms-next">Continue</button>
        </div>
      </div>
    </section>

    <!-- Step 3: Add brand text -->
    <section id="bmms-step3" class="bmms-step">
      <div class="bmms-splash">
        <div class="bmms-logo-spinner"></div>
        <h3>Just a moment, I‚Äôm getting your logo started‚Ä¶</h3>
      </div>
      <div class="bmms-fields" style="display:none">
        <label class="bmms-field">
          <span>What text would you like to add to your logo?</span>
          <input type="text" name="brand_text" placeholder="I suggest your business name here" />
        </label>
        <div class="bmms-actions">
          <button type="button" class="bmms-btn bmms-skip">Skip</button>
          <button type="button" class="bmms-btn bmms-back">Back</button>
          <button type="button" class="bmms-btn bmms-btn-primary bmms-next">Continue</button>
        </div>
      </div>
    </section>

    <!-- Step 4: Variations slider -->
    <section id="bmms-step4" class="bmms-step">
      <div class="bmms-splash">
        <div class="bmms-logo-spinner"></div>
        <h3>Hold on, I‚Äôm adding your text and generating layouts. This may take a few minutes‚Ä¶</h3>
      </div>
      <div class="bmms-slider" style="display:none">
        <div class="bmms-slider-header">
          <button class="bmms-slide-nav prev" type="button">‚Üê</button>
          <div class="bmms-slide-indicator">Variations</div>
          <button class="bmms-slide-nav next" type="button">‚Üí</button>
        </div>
        <div class="bmms-slides"></div>
        <div class="bmms-actions">
          <button type="button" class="bmms-btn bmms-back">Back</button>
          <button type="button" class="bmms-btn bmms-btn-primary bmms-next">Continue</button>
        </div>
      </div>
    </section>

    <!-- Step 5: Final preview -->
    <section id="bmms-step5" class="bmms-step">
      <div class="bmms-splash">
        <div class="bmms-logo-spinner"></div>
        <h3>Finalizing your logo‚Ä¶</h3>
      </div>
      <div class="bmms-final" style="display:none">
        <div class="bmms-final-view">
          <img id="bmms-final-image" class="bmms-final-image" alt="Final logo" />
        </div>
        <div class="bmms-actions">
          <button type="button" class="bmms-btn bmms-back">Back</button>
          <button type="button" class="bmms-zoom">Zoom</button>
          <button type="button" class="bmms-btn bmms-btn-primary bmms-download">Download</button>
        </div>
        <div class="bmms-zoom-overlay" style="display:none">
          <button type="button" class="bmms-zoom-close">√ó</button>
          <img id="bmms-zoom-image" alt="Zoomed logo" />
        </div>
      </div>
    </section>
    </div>
  </div>
  <script src="assets/agui-wp.js"></script>
</body>
</html>